# User λ„λ©”μΈ

## π“‹ λ„λ©”μΈ κ°μ”

μ‚¬μ©μ μΈμ¦, νμ›κ°€μ…, ν”„λ΅ν•„ κ΄€λ¦¬λ¥Ό λ‹΄λ‹Ήν•λ” λ„λ©”μΈμ…λ‹λ‹¤.

**μ£Όμ” μ±…μ„**:
- νμ›κ°€μ… λ° λ΅κ·ΈμΈ μ²λ¦¬
- JWT ν† ν° κΈ°λ° μΈμ¦
- OAuth2 μ†μ… λ΅κ·ΈμΈ (Google, Kakao, Naver)
- μ‚¬μ©μ μ •λ³΄ κ΄€λ¦¬
- λΉ„λ°€λ²νΈ λ³€κ²½ λ° μ¬μ„¤μ •

---

## π API μ—”λ“ν¬μΈνΈ

### 1. νμ›κ°€μ…

- **μ—”λ“ν¬μΈνΈ**: `POST /api/v1/users/register`
- **μ„¤λ…**: μ΄λ©”μΌκ³Ό λΉ„λ°€λ²νΈλ΅ μƒλ΅μ΄ μ‚¬μ©μλ¥Ό λ“±λ΅ν•©λ‹λ‹¤.
- **μΈμ¦**: λ¶ν•„μ”
- **λ°μƒ κ°€λ¥ν• μμ™Έ**: `USER_002` (μ΄λ©”μΌ μ¤‘λ³µ), `COMMON_001` (μ ν¨ν•μ§€ μ•μ€ μ…λ ¥κ°’)

### 2. λ΅κ·ΈμΈ

- **μ—”λ“ν¬μΈνΈ**: `POST /api/v1/users/login`
- **μ„¤λ…**: μ΄λ©”μΌκ³Ό λΉ„λ°€λ²νΈλ΅ λ΅κ·ΈμΈν•μ—¬ JWT ν† ν°μ„ λ°κΈ‰λ°›μµλ‹λ‹¤.
- **μΈμ¦**: λ¶ν•„μ”
- **λ°μƒ κ°€λ¥ν• μμ™Έ**: `USER_001` (μ‚¬μ©μ μ—†μ), `USER_003` (λΉ„λ°€λ²νΈ λ¶μΌμΉ)

### 3. ν† ν° κ°±μ‹ 

- **μ—”λ“ν¬μΈνΈ**: `POST /api/v1/users/refresh`
- **μ„¤λ…**: Refresh TokenμΌλ΅ μƒλ΅μ΄ Access Tokenμ„ λ°κΈ‰λ°›μµλ‹λ‹¤.
- **μΈμ¦**: Refresh Token ν•„μ”
- **λ°μƒ κ°€λ¥ν• μμ™Έ**: `AUTH_001` (μ ν¨ν•μ§€ μ•μ€ ν† ν°), `AUTH_002` (λ§λ£λ ν† ν°)

### 4. μ‚¬μ©μ μ •λ³΄ μ΅°ν

- **μ—”λ“ν¬μΈνΈ**: `GET /api/v1/users/me`
- **μ„¤λ…**: ν„μ¬ λ΅κ·ΈμΈν• μ‚¬μ©μμ μ •λ³΄λ¥Ό μ΅°νν•©λ‹λ‹¤.
- **μΈμ¦**: ν•„μ” (JWT)
- **κ¶ν•**: USER, ADMIN
- **λ°μƒ κ°€λ¥ν• μμ™Έ**: `AUTH_001`, `USER_001`

### 5. λΉ„λ°€λ²νΈ λ³€κ²½

- **μ—”λ“ν¬μΈνΈ**: `PATCH /api/v1/users/password`
- **μ„¤λ…**: ν„μ¬ λΉ„λ°€λ²νΈλ¥Ό ν™•μΈν•κ³  μƒλ΅μ΄ λΉ„λ°€λ²νΈλ΅ λ³€κ²½ν•©λ‹λ‹¤.
- **μΈμ¦**: ν•„μ” (JWT)
- **λ°μƒ κ°€λ¥ν• μμ™Έ**: `USER_003` (λΉ„λ°€λ²νΈ λ¶μΌμΉ), `COMMON_001` (μ ν¨ν•μ§€ μ•μ€ ν•μ‹)

### 6. λΉ„λ°€λ²νΈ μ¬μ„¤μ • μ”μ²­

- **μ—”λ“ν¬μΈνΈ**: `POST /api/v1/users/password/reset`
- **μ„¤λ…**: μ΄λ©”μΌλ΅ λΉ„λ°€λ²νΈ μ¬μ„¤μ • λ§ν¬λ¥Ό λ°μ†΅ν•©λ‹λ‹¤.
- **μΈμ¦**: λ¶ν•„μ”

---

## π“¦ μ£Όμ” μ—”ν‹°ν‹°

### User

**ν…μ΄λΈ”λ…**: `users`

**μ£Όμ” ν•„λ“**:
| ν•„λ“λ… | νƒ€μ… | μ„¤λ… | μ μ•½μ΅°κ±΄ |
|--------|------|------|----------|
| id | Long | μ‚¬μ©μ ID (PK) | Auto Increment |
| email | String | μ΄λ©”μΌ μ£Όμ† | UNIQUE, NOT NULL |
| password | String | μ•”νΈν™”λ λΉ„λ°€λ²νΈ | NOT NULL (OAuth μ μ™Έ) |
| name | String | μ‚¬μ©μ μ΄λ¦„ | NOT NULL |
| role | UserRole | μ‚¬μ©μ κ¶ν• | NOT NULL, DEFAULT: USER |
| provider | OAuthProvider | OAuth μ κ³µμ | DEFAULT: LOCAL |
| providerId | String | OAuth μ κ³µμ ID | - |
| createdAt | LocalDateTime | μƒμ„±μΌμ‹ | BaseEntity μƒμ† |
| updatedAt | LocalDateTime | μμ •μΌμ‹ | BaseEntity μƒμ† |

**μ—°κ΄€κ΄€κ³„**:
- EmailVerifierμ™€ 1:N κ΄€κ³„ (μ΄λ©”μΌ μΈμ¦)

---

**μ΄ λ¬Έμ„λ” User λ„λ©”μΈμ μ—”ν‹°ν‹°μ™€ APIλ¥Ό μ •λ¦¬ν• λ¬Έμ„μ…λ‹λ‹¤.**
**λ„λ©”μΈ λ³€κ²½ μ‹ μ΄ λ¬Έμ„λ„ ν•¨κ» μ—…λ°μ΄νΈν•΄μ£Όμ„Έμ”.**
